<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>OAuth2PopupFlowOptions | oauth2-popup-flow</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.js" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">oauth2-popup-flow</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../globals.html">Globals</a>
				</li>
				<li>
					<a href="../modules/_index_.html">&quot;index&quot;</a>
				</li>
				<li>
					<a href="_index_.oauth2popupflowoptions.html">OAuth2PopupFlowOptions</a>
				</li>
			</ul>
			<h1>Interface OAuth2PopupFlowOptions&lt;TokenPayload&gt;</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel tsd-comment">
				<div class="tsd-comment tsd-typography">
					<div class="lead">
						<p>The type of the configuration object used to create a <code>OAuth2PopupFlow</code></p>
					</div>
					<p>Each property has a JSDOC description to explain what it does.</p>
				</div>
			</section>
			<section class="tsd-panel tsd-type-parameters">
				<h3>Type parameters</h3>
				<ul class="tsd-type-parameters">
					<li>
						<h4>TokenPayload<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">object</span></h4>
					</li>
				</ul>
			</section>
			<section class="tsd-panel tsd-hierarchy">
				<h3>Hierarchy</h3>
				<ul class="tsd-hierarchy">
					<li>
						<span class="target">OAuth2PopupFlowOptions</span>
					</li>
				</ul>
			</section>
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section ">
							<h3>Properties</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_index_.oauth2popupflowoptions.html#accesstokenresponsekey" class="tsd-kind-icon">access<wbr>Token<wbr>Response<wbr>Key</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_index_.oauth2popupflowoptions.html#accesstokenstoragekey" class="tsd-kind-icon">access<wbr>Token<wbr>Storage<wbr>Key</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_index_.oauth2popupflowoptions.html#additionalauthorizationparameters" class="tsd-kind-icon">additional<wbr>Authorization<wbr>Parameters</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_index_.oauth2popupflowoptions.html#afterresponse" class="tsd-kind-icon">after<wbr>Response</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_index_.oauth2popupflowoptions.html#authorizationuri" class="tsd-kind-icon">authorization<wbr>Uri</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_index_.oauth2popupflowoptions.html#beforepopup" class="tsd-kind-icon">before<wbr>Popup</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_index_.oauth2popupflowoptions.html#clientid" class="tsd-kind-icon">client<wbr>Id</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_index_.oauth2popupflowoptions.html#pollingtime" class="tsd-kind-icon">polling<wbr>Time</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_index_.oauth2popupflowoptions.html#redirecturi" class="tsd-kind-icon">redirect<wbr>Uri</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_index_.oauth2popupflowoptions.html#responsetype" class="tsd-kind-icon">response<wbr>Type</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_index_.oauth2popupflowoptions.html#scope" class="tsd-kind-icon">scope</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_index_.oauth2popupflowoptions.html#storage" class="tsd-kind-icon">storage</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_index_.oauth2popupflowoptions.html#tokenvalidator" class="tsd-kind-icon">token<wbr>Validator</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Properties</h2>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="accesstokenresponsekey" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> access<wbr>Token<wbr>Response<wbr>Key</h3>
					<div class="tsd-signature tsd-kind-icon">access<wbr>Token<wbr>Response<wbr>Key<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/ricokahler/oauth2-popup-flow/blob/6dacb67/src/index.ts#L90">index.ts:90</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>OPTIONAL
								During <code>handleRedirect</code>, the method will try to parse <code>window.location.hash</code> to an object using
								<code>OAuth2PopupFlow.decodeUriToObject</code>. After that object has been decoded, this property
							determines the key to use that will retrieve the token from that object.</p>
						</div>
						<p>By default it is <code>access_token</code> but you you may need to change that e.g. Auth0 uses <code>id_token</code>.</p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="accesstokenstoragekey" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> access<wbr>Token<wbr>Storage<wbr>Key</h3>
					<div class="tsd-signature tsd-kind-icon">access<wbr>Token<wbr>Storage<wbr>Key<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/ricokahler/oauth2-popup-flow/blob/6dacb67/src/index.ts#L81">index.ts:81</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>OPTIONAL
								The key used to save the token in the given storage. The default key is <code>token</code> so the token
								would be persisted in <code>localStorage.getItem(&#39;token&#39;)</code> if <code>localStorage</code> was the configured
							<code>Storage</code>.</p>
						</div>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="additionalauthorizationparameters" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> additional<wbr>Authorization<wbr>Parameters</h3>
					<div class="tsd-signature tsd-kind-icon">additional<wbr>Authorization<wbr>Parameters<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">function</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">object</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/ricokahler/oauth2-popup-flow/blob/6dacb67/src/index.ts#L141">index.ts:141</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>OPTIONAL
								Some oauth authorities require additional parameters to be passed to the <code>authorizationUri</code>
							URL in order for the implicit grant flow to work.</p>
						</div>
						<p>For example: <a href="https://auth0.com/docs/api-auth/tutorials/nonce#generate-a-cryptographically-random-nonce">Auth0--an OAuth2 authority/authorization server--requires the parameters
							<code>nonce</code></a>
						be passed along with every call to the <code>authorizationUri</code>. You can do that like so:</p>
						<pre><code class="lang-ts"><span class="hljs-keyword">const</span> auth = <span class="hljs-keyword">new</span> OAuth2PopupFlow({
  authorizationUri: <span class="hljs-string">'https://example.com/oauth/authorize'</span>,
  clientId: <span class="hljs-string">'foo_client'</span>,
  redirectUri: <span class="hljs-string">'http://localhost:8080/redirect'</span>,
  scope: <span class="hljs-string">'openid profile'</span>,
  <span class="hljs-comment">// this can be a function or static object</span>
  additionalAuthorizationParameters: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// in prod, consider something more cryptographic</span>
    <span class="hljs-keyword">const</span> nonce = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">1000</span>).toString();
    localStorage.setItem(<span class="hljs-string">'nonce'</span>, nonce);
    <span class="hljs-keyword">return</span> { nonce };
    <span class="hljs-comment">// `nonce` will now be encoded in the URL like so:</span>
    <span class="hljs-comment">// https://example.com/oauth/authorize?client_id=foo_client...nonce=1234</span>
  },
  <span class="hljs-comment">// the token returned by Auth0, has the `nonce` in the payload</span>
  <span class="hljs-comment">// you can add this additional check now</span>
  tokenValidator: <span class="hljs-function">(<span class="hljs-params">{ payload }</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> storageNonce = <span class="hljs-built_in">parseInt</span>(localStorage.getItem(<span class="hljs-string">'nonce'</span>), <span class="hljs-number">10</span>);
    <span class="hljs-keyword">const</span> payloadNonce = <span class="hljs-built_in">parseInt</span>(payload.nonce, <span class="hljs-number">10</span>);
    <span class="hljs-keyword">return</span> storageNonce === payloadNonce;
  },
});
</code></pre>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="afterresponse" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> after<wbr>Response</h3>
					<div class="tsd-signature tsd-kind-icon">after<wbr>Response<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">function</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/ricokahler/oauth2-popup-flow/blob/6dacb67/src/index.ts#L193">index.ts:193</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>OPTIONAL
								A hook that runs in <code>handleRedirect</code> that takes in the result of the hash payload from the
								authorization server. Use this hook to grab more from the response or to debug the response
							from the authorization URL.</p>
						</div>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="authorizationuri" class="tsd-anchor"></a>
					<h3>authorization<wbr>Uri</h3>
					<div class="tsd-signature tsd-kind-icon">authorization<wbr>Uri<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/ricokahler/oauth2-popup-flow/blob/6dacb67/src/index.ts#L13">index.ts:13</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>REQUIRED
							The full URI of the authorization endpoint provided by the authorization server.</p>
						</div>
						<p>e.g. <code>https://example.com/oauth/authorize</code></p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="beforepopup" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> before<wbr>Popup</h3>
					<div class="tsd-signature tsd-kind-icon">before<wbr>Popup<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">function</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/ricokahler/oauth2-popup-flow/blob/6dacb67/src/index.ts#L186">index.ts:186</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>OPTIONAL
								A hook that runs in <code>tryLoginPopup</code> before any popup is opened. This function can return a
							<code>Promise</code> and the popup will not open until it resolves.</p>
						</div>
						<p>A typical use case would be to wait a certain amount of time before opening the popup to let
						the user see why the popup is happening.</p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="clientid" class="tsd-anchor"></a>
					<h3>client<wbr>Id</h3>
					<div class="tsd-signature tsd-kind-icon">client<wbr>Id<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/ricokahler/oauth2-popup-flow/blob/6dacb67/src/index.ts#L24">index.ts:24</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>REQUIRED
							The client ID of your application provided by the authorization server.</p>
						</div>
						<p>This client ID is sent to the authorization server using <code>authorizationUrl</code> endpoint in the
							query portion of the URL along with the other parameters.
						This value will be URL encoded like so:</p>
						<p><code>https://example.com/oauth/authorize?client_id=SOME_CLIENT_ID_VALUE...</code></p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="pollingtime" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> polling<wbr>Time</h3>
					<div class="tsd-signature tsd-kind-icon">polling<wbr>Time<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/ricokahler/oauth2-popup-flow/blob/6dacb67/src/index.ts#L104">index.ts:104</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>OPTIONAL
								The <code>authenticated</code> method periodically checks <code>loggedIn()</code> and resolves when <code>loggedIn()</code>
							returns <code>true</code>.</p>
						</div>
						<p>This property is how long it will wait between checks. By default it is <code>200</code>.</p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="redirecturi" class="tsd-anchor"></a>
					<h3>redirect<wbr>Uri</h3>
					<div class="tsd-signature tsd-kind-icon">redirect<wbr>Uri<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/ricokahler/oauth2-popup-flow/blob/6dacb67/src/index.ts#L41">index.ts:41</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>REQUIRED
								The URI that the authorization server will to redirect after the user has been authenticated.
								This redirect URI <em>must</em> be a URI from <em>your application</em> and it must also be registered with
							the authorization server. Some authorities call this a &quot;callback URLs&quot; or &quot;login URLs&quot; etc.</p>
						</div>
						<blockquote>
							<p>e.g. <code>http://localhost:4200/redirect</code> for local testing</p>
							<p>or <code>https://my-application.com/redirect</code> for prod</p>
						</blockquote>
						<p>This redirect URI is sent to the authorization server using <code>authorizationUrl</code> endpoint in the
							query portion of the URL along with the other parameters.
						This value will be URL encoded like so:</p>
						<p><code>https://example.com/oauth/authorize?redirect_URI=http%3A%2F%2Flocalhost%2Fredirect...</code></p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="responsetype" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> response<wbr>Type</h3>
					<div class="tsd-signature tsd-kind-icon">response<wbr>Type<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/ricokahler/oauth2-popup-flow/blob/6dacb67/src/index.ts#L74">index.ts:74</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>OPTIONAL
								<code>response_type</code> is an argument to be passed to the authorization server via the
							<code>authorizationUri</code> endpoint in the query portion of the URL.</p>
						</div>
						<p>Most implementations of oauth2 use the default value of <code>token</code> to tell the authorization
						server to start the implicit grant flow but you may override that value with this option.</p>
						<p>For example, Auth0--an OAuth2 authority/authorization server--requires the value <code>id_token</code>
						instead of <code>token</code> for the implicit flow.</p>
						<p>The response type is sent to the authorization server using <code>authorizationUrl</code> endpoint in the
							query portion of the URL along with the other parameters.
						This value will be URL encoded like so:</p>
						<p><code>https://example.com/oauth/authorize?response_type=token...</code></p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="scope" class="tsd-anchor"></a>
					<h3>scope</h3>
					<div class="tsd-signature tsd-kind-icon">scope<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/ricokahler/oauth2-popup-flow/blob/6dacb67/src/index.ts#L56">index.ts:56</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>REQUIRED
								A list permission separated by spaces that is the scope of permissions your application is
								requesting from the authorization server. If the user is logging in the first time, it may ask
							them to approve those permission before authorizing your application.</p>
						</div>
						<blockquote>
							<p>e.g. <code>openid profile</code></p>
						</blockquote>
						<p>The scopes are sent to the authorization server using <code>authorizationUrl</code> endpoint in the
							query portion of the URL along with the other parameters.
						This value will be URL encoded like so:</p>
						<p><code>https://example.com/oauth/authorize?scope=openid%20profile...</code></p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="storage" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> storage</h3>
					<div class="tsd-signature tsd-kind-icon">storage<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Storage</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/ricokahler/oauth2-popup-flow/blob/6dacb67/src/index.ts#L96">index.ts:96</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>OPTIONAL
								The storage implementation of choice. It can be <code>localStorage</code> or <code>sessionStorage</code> or something
							else. By default, this is <code>localStorage</code> and <code>localStorage</code> is the preferred <code>Storage</code>.</p>
						</div>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="tokenvalidator" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> token<wbr>Validator</h3>
					<div class="tsd-signature tsd-kind-icon">token<wbr>Validator<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">function</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/ricokahler/oauth2-popup-flow/blob/6dacb67/src/index.ts#L177">index.ts:177</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>OPTIONAL
								This function intercepts the <code>loggedIn</code> method and causes it to return early with <code>false</code> if
								this function itself returns <code>false</code>. Use this function to validate claims in the token payload
							or token.</p>
						</div>
						<p><a href="https://auth0.com/docs/api-auth/tutorials/nonce#generate-a-cryptographically-random-nonce">For example: validating the <code>nonce</code>:</a></p>
						<pre><code class="lang-ts"><span class="hljs-keyword">const</span> auth = <span class="hljs-keyword">new</span> OAuth2PopupFlow({
  authorizationUri: <span class="hljs-string">'https://example.com/oauth/authorize'</span>,
  clientId: <span class="hljs-string">'foo_client'</span>,
  redirectUri: <span class="hljs-string">'http://localhost:8080/redirect'</span>,
  scope: <span class="hljs-string">'openid profile'</span>,
  <span class="hljs-comment">// this can be a function or static object</span>
  additionalAuthorizationParameters: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// in prod, consider something more cryptographic</span>
    <span class="hljs-keyword">const</span> nonce = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">1000</span>).toString();
    localStorage.setItem(<span class="hljs-string">'nonce'</span>, nonce);
    <span class="hljs-keyword">return</span> { nonce };
    <span class="hljs-comment">// `nonce` will now be encoded in the URL like so:</span>
    <span class="hljs-comment">// https://example.com/oauth/authorize?client_id=foo_client...nonce=1234</span>
  },
  <span class="hljs-comment">// the token returned by Auth0, has the `nonce` in the payload</span>
  <span class="hljs-comment">// you can add this additional check now</span>
  tokenValidator: <span class="hljs-function">(<span class="hljs-params">{ payload }</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> storageNonce = <span class="hljs-built_in">parseInt</span>(localStorage.getItem(<span class="hljs-string">'nonce'</span>), <span class="hljs-number">10</span>);
    <span class="hljs-keyword">const</span> payloadNonce = <span class="hljs-built_in">parseInt</span>(payload.nonce, <span class="hljs-number">10</span>);
    <span class="hljs-keyword">return</span> storageNonce === payloadNonce;
  },
});
</code></pre>
					</div>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="../globals.html"><em>Globals</em></a>
					</li>
					<li class="current tsd-kind-external-module">
						<a href="../modules/_index_.html">"index"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="../modules/_index_spec_.html">"index.spec"</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class tsd-parent-kind-external-module tsd-has-type-parameter">
						<a href="../classes/_index_.oauth2popupflow.html" class="tsd-kind-icon">OAuth2<wbr>Popup<wbr>Flow</a>
					</li>
				</ul>
				<ul class="current">
					<li class="current tsd-kind-interface tsd-parent-kind-external-module tsd-has-type-parameter">
						<a href="_index_.oauth2popupflowoptions.html" class="tsd-kind-icon">OAuth2<wbr>Popup<wbr>Flow<wbr>Options</a>
						<ul>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_index_.oauth2popupflowoptions.html#accesstokenresponsekey" class="tsd-kind-icon">access<wbr>Token<wbr>Response<wbr>Key</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_index_.oauth2popupflowoptions.html#accesstokenstoragekey" class="tsd-kind-icon">access<wbr>Token<wbr>Storage<wbr>Key</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_index_.oauth2popupflowoptions.html#additionalauthorizationparameters" class="tsd-kind-icon">additional<wbr>Authorization<wbr>Parameters</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_index_.oauth2popupflowoptions.html#afterresponse" class="tsd-kind-icon">after<wbr>Response</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_index_.oauth2popupflowoptions.html#authorizationuri" class="tsd-kind-icon">authorization<wbr>Uri</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_index_.oauth2popupflowoptions.html#beforepopup" class="tsd-kind-icon">before<wbr>Popup</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_index_.oauth2popupflowoptions.html#clientid" class="tsd-kind-icon">client<wbr>Id</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_index_.oauth2popupflowoptions.html#pollingtime" class="tsd-kind-icon">polling<wbr>Time</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_index_.oauth2popupflowoptions.html#redirecturi" class="tsd-kind-icon">redirect<wbr>Uri</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_index_.oauth2popupflowoptions.html#responsetype" class="tsd-kind-icon">response<wbr>Type</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_index_.oauth2popupflowoptions.html#scope" class="tsd-kind-icon">scope</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_index_.oauth2popupflowoptions.html#storage" class="tsd-kind-icon">storage</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_index_.oauth2popupflowoptions.html#tokenvalidator" class="tsd-kind-icon">token<wbr>Validator</a>
							</li>
						</ul>
					</li>
				</ul>
				<ul class="after-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="../assets/js/search.js"><' + '/script>');</script>
</body>
</html>